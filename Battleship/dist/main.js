(()=>{"use strict";var t={768:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([t.id,'.message-container {\n  text-align: center;\n  margin-bottom: 1rem;\n}\n\n.message {\n  line-height: 1.5rem;\n}\n\n.grid-title {\n  margin-bottom: 1.5rem;\n}\n\n\n.player-container,\n.computer-container { \n  width: 100%;;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.game-container {\n  display: flex;\n  flex-direction: column-reverse;\n  padding: 2rem 0;\n}\n\n#computer-grid .cell {\n  cursor: pointer;\n}\n\n#computer-grid .cell img {\n  max-width: none\n}\n\n#computer-grid .cell img[is="ship-img"] {\n  position: absolute; /* Prevents it from affecting X */\n  width: 150px; /* Keep your original sizing */\n  height: 100%;\n  left: 0; /* Adjust placement as needed */\n  top: 0;\n}\n\n.shot {\n  position: absolute;\n  z-index: 2;\n  left: 25%;\n  width: 25px;\n}\n\n.miss {\n  color: var(--whiteSmoke);\n}\n\n.hit {\n  color: var(--red)\n}\n\n.play-again-containter {\n  text-align: center;\n  visibility: hidden;\n}\n\n@media screen and (min-width: 1140px) {\n  .game-container {\n    flex-direction: row;\n    gap: 1rem;\n    max-width: 1440px;\n    margin: 0 auto;\n  }\n}',""]);const s=o},987:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([t.id,"#container {\n\theight: 100%;\n\tpadding: 1rem;\n}\n\n#container h4 {\n\tmargin-bottom: 2rem;\n\ttext-align: center;\n}\n\n.main-container {\n\theight: 100%;\n\talign-content: center;\n}\n\n.grid-container {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(11, 1fr);\n\tgrid-template-rows: repeat(11, 1fr);\n\tjustify-content: center;\n\taspect-ratio: 1;\n\twidth: 100%;\n\tmax-width: 550px;\n\tmax-height: 550px;\n\tmargin: 0 auto 2rem;\n}\n\n.col-header {\n\tgrid-column: 2 / span 10;\n\tgrid-row: 1 / 2;\n\tdisplay: grid;\n\tgrid-template-columns: subgrid;\n\tgrid-template-rows: subgrid;\n\talign-items: center;\n}\n\n.row-header {\n\tgrid-column: 1 / 2;\n\tgrid-row: 2 / span 10;\n\tdisplay: grid;\n\tgrid-template-columns: subgrid;\n\tgrid-template-rows: subgrid;\n\talign-items: center;\n}\n\n.col-header div,\n.row-header div {\n\ttext-align: center;\n}\n\n.grid {\n\tdisplay: grid;\n\tgrid-column: 2 / span 10;\n\tgrid-row: 2 / span 10;\n\tgrid-template-columns: subgrid;\n\tgrid-template-rows: subgrid;\n\tuser-select: none;\n}\n\n.cell {\n\theight: 100%;\n\twidth: 100%;\n\tborder: 1px solid black;\n\talign-content: center;\n\ttext-align: center;\n\tdisplay: inline-flex;\n\tposition: relative;\n  align-items: center;\n\n}\n\n.cell:hover {\n\tbackground-color: var(--greenSpringOpac);\n}\n\n.cell .ship-img {\n\tmax-width: none;\n\tposition: absolute;\n}\n\n.ship {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tcursor: grab;\n\tgap: 0.5rem;\n\tpadding: 0.25rem;\n}\n\n.ship img {\n\tmax-width: 100%;\n\theight: 2rem;\n\tobject-fit: contain;\n}\n\n.fleet-container {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 1rem;\n\tjustify-content: center;\n\talign-items: stretch;\n\twidth: auto;\n\theight: auto;\n\tfont-size: 0.5rem;\n\tmargin-bottom: 2rem;\n\tuser-select: none;\n}\n\n.fleet-container > div {\n\tflex: 0 1 calc(50% - 10px);\n\tmax-width: 155px;\n\ttext-align: center;\n\tborder: 1px solid var(--whiteSmoke);\n}\n\n.fleet-container > div:hover {\n\topacity: 0.7;\n\ttransform: scale(1.02);\n\ttransition: opacity 0.2s ease, transform 0.2s ease;\n}\n\n#orientation {\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.button-container {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.button-container button {\n\tfont-size: 0.7rem;\n}\n\n.cell.occupied {\n\tbackground-color: var(--red);\n}\n\n.cell.available {\n\tbackground-color: var(--greenSpring);\n}\n\n.disable {\n\tcursor: not-allowed;\n}\n\n@media screen and (min-width: 700px) {\n\t.main-container {\n\t\tdisplay: flex;\n\t\tgap: 2rem;\n\t\tmax-width: 1040px;\n\t\tmargin: 0 auto 2rem;\n\t\tjustify-content: center;\n\t}\n\n\t.grid-container {\n\t\tmargin: 0 0 2rem 0;\n\t}\n\n\t.fleet-container {\n\t\tflex-direction: column;\n\t\tflex-wrap: nowrap;\n\t\tfont-size: 0.65rem;\n\t}\n\n\t.ship img {\n\t\theight: 3rem;\n\t}\n\n\t.button-container {\n\t\tmargin: 0 auto;\n\t\tmax-width: 1040px;\n\t}\n\n\t.button-container button {\n\t\tfont-size: 0.75rem;\n\t}\n}\n",""]);const s=o},304:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([t.id,".instruction-title {\n  margin-bottom: 1.5rem;\n  text-align: center;\n}\n\n.instruction {\n  padding: .75rem;\n  max-width: 1040px;\n  margin: 0 auto;\n}\n\n.instruction p {\n  line-height: 1.5rem;\n}\n\n.instruction div:not(:last-child) {\n  margin-bottom: 1.5rem;\n}\n\n.btn-container {\n  text-align: center;\n}\n\n\n/* #start-btn {\n  cursor: pointer;\n  border: none;\n  background: none;\n  text-align: center;\n  margin: 0 auto;\n  font-size: 1rem;\n  padding: 0;\n  width: 100%;\n}\n\n#start-btn:hover,\n#start-btn:focus {\n  color: var(--bostonBlue)\n} */\n\n@media screen and (min-width: 600px){\n  .instruction {\n    padding: 1.5rem\n  }\n\n  #start-btn {\n    font-size: 1.5rem;\n  }\n\n  .instruction div:not(:last-child) {\n    margin-bottom: 1.75rem;\n  }\n\n}",""]);const s=o},249:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap);"]),o.push([t.id,":root { \n  --spanishGreen: #87907D;\n  --greenSpring: #AAB6A2;\n  --greenSpringOpac: #A4AD9A80;\n  --bostonBlue: #4086AA;\n  --white: #ffffff;\n  --whiteSmoke: #EAEAEA;\n  --black: #000000;\n  --red: #7e3a3a;\n\n  /* --cell-size: 7vw; */\n  --font-size-body: 16px;\n  --font-family-body: 'Press Start 2P', sans-serif\n}\n\n*, *::before, *::after {\n  box-sizing: border-box;\n}\n\nbody {\n  margin: 0;\n  font-family: var(--font-family-body);\n  font-size: var(--font-size-body);\n  background-color: var(--spanishGreen);\n}\n\nbutton {\n  font-family: var(--font-family-body);\n  cursor: pointer;\n  border: none;\n  background: none;\n  text-align: center;\n  margin: 0 auto;\n  font-size: 1rem;\n  padding: .5rem;\n  width: max-content;\n}\n\nbutton:hover,\nbutton:focus {\n  color: var(--bostonBlue)\n}\n\n\nh2,\nh3,\nh4 {\n  margin: 0;\n}\n\na {\n  text-decoration: none;\n  color: inherit;\n}\n\n\nimg {\n  max-width: 100%;\n}",""]);const s=o},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);r&&o[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},o=[],s=0;s<t.length;s++){var l=t[s],c=r.base?l[0]+r.base:l[0],d=a[c]||0,h="".concat(c," ").concat(d);a[c]=d+1;var p=n(h),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var m=i(u,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:m,references:1})}o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var a=r(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<a.length;o++){var s=n(a[o]);e[s].references--}for(var l=r(t,i),c=0;c<a.length;c++){var d=n(a[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=l}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.nc=void 0;var r=n(72),i=n.n(r),a=n(825),o=n.n(a),s=n(659),l=n.n(s),c=n(56),d=n.n(c),h=n(540),p=n.n(h),u=n(113),m=n.n(u),g=n(249),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=p(),i()(g.A,f),g.A&&g.A.locals&&g.A.locals;var b=n(987),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p(),i()(b.A,v),b.A&&b.A.locals&&b.A.locals;var y=n(768),A={};A.styleTagTransform=m(),A.setAttributes=d(),A.insert=l().bind(null,"head"),A.domAPI=o(),A.insertStyleElement=p(),i()(y.A,A),y.A&&y.A.locals&&y.A.locals;var w=n(304),x={};x.styleTagTransform=m(),x.setAttributes=d(),x.insert=l().bind(null,"head"),x.domAPI=o(),x.insertStyleElement=p(),i()(w.A,x),w.A&&w.A.locals&&w.A.locals;const S=n.p+"f604c1d3fb1e881866d7.svg";function E(t,e,n,r){const i=document.createElement(t);return e&&i.classList.add(e),n&&(i.id=n),r&&(i.textContent=r),i}function k(t,e){let n,r;return e?(n=Math.floor(10*Math.random()),r=Math.floor(Math.random()*(10-t))):(n=Math.floor(Math.random()*(10-t)),r=Math.floor(10*Math.random())),[n,r]}const C=[{name:"carrier",length:5,src:n.p+"9bf5590bd2f053bf790d.svg"},{name:"battleship",length:4,src:S},{name:"cruiser",length:3,src:n.p+"ea004093b24335a09b58.svg"},{name:"destroyer",length:3,src:n.p+"f9116b5829da36f3828e.svg"},{name:"submarine",length:2,src:n.p+"3f0442d38eb3caa3970f.svg"}],M=document.getElementById("container"),L=E("div","instruction"),$=E("h2","instruction-title","","Battleship"),T=E("div","setup"),I=E("div","gameplay"),q=E("div","winning"),N=E("div","btn-container"),j=E("button","","start-btn","START");class P{constructor(t,e){this.name=t,this.length=e,this.numHits=0}hits=()=>{this.numHits++};isSunk=()=>this.numHits===Number(this.length)}class O{constructor(){this.board=Array.from({length:10},(()=>Array.from({length:10},(()=>({ship:null,hit:null}))))),this.fleet=[],this.shipSunk=0}receiveAttack=t=>{const[e,n]=t;if(e<0||e>=10||n<0||n>=10)return!1;const r=this.board[e][n];if(null!==r.hit)return!1;if(null===r.ship)return r.hit=!1,!1;r.hit=!0;let i=r.ship;return i&&(i.hits(),i.isSunk()&&this.shipSunk++),!0};placeShip=(t,e,n)=>{if(this.fleet.some((e=>e.name===t.name)))return!1;const[r,i]=e;if(r<0||r>=10||i<0||i>=10)return!1;let a=new P(t.name,t.length),o=this.getShipCoordinates(e,t.length,n);for(const[t,e]of o)if(t<0||t>=10||e<0||e>=10||null!==this.board[t][e].ship)return!1;for(const[t,e]of o)this.board[t][e]={ship:a,hit:null};return this.fleet.push(a),!0};getShipCoordinates=(t,e,n)=>{const[r,i]=t;let a=[];for(let t=0;t<e;t++)0===n?a.push([r+t,i]):a.push([r,i+t]);return a};isAllSunk=()=>this.shipSunk===this.fleet.length}class H{constructor(){this.gameboard=new O}}const z=document.getElementById("container"),B=E("div","message-container"),R=E("p","message","","Your turn, Please choose your next attack..."),D=E("div","game-container"),F=E("div","player-container"),U=E("h3","grid-title","","Player Waters"),X=E("div","computer-container"),G=E("h3","grid-title","","Enemy Waters"),W=E("div","grid-container"),Y=E("div","grid","computer-grid"),Z=E("div","col-header"),V=E("div","row-header"),_=E("div","play-again-containter"),J=E("button","play-again-btn","","PLAY AGAIN"),K=t=>{const e=t.target.closest(".cell");if(!e)return;const n=parseInt(e.dataset.row),r=parseInt(e.dataset.col);if(Q(n,r))return void(R.textContent="You have already attack this region. Please choose a differnt region");R.textContent="Computer's turn to attack, please wait...";let i=E("span","shot","","X");if(e.append(i),gt.gameboard.receiveAttack([n,r])){i.classList.add("hit");const t=gt.gameboard.board[n][r].ship;if(t.isSunk()&&tt(t),gt.gameboard.isAllSunk())return console.log("All ships have sunk"),R.textContent="Congratulations! The enemy's fleet has been destroyed!",_.style.visibility="visible",void Y.removeEventListener("click",K)}else i.classList.add("miss");Y.removeEventListener("click",K),setTimeout((()=>{const t=gt.launchAttack(mt.gameboard),[e,n]=t.coord,r=document.querySelector(`.cell[data-row="${e}"][data-col="${n}"]`);let i=E("span","shot","","X");t.hit?(i.classList.add("hit"),setTimeout((()=>{mt.gameboard.isAllSunk()&&(R.textContent="Game Over! Your fleet has been destroyed!",_.style.visibility="visible",Y.removeEventListener("click",K))}),0)):i.classList.add("miss"),r.append(i),Y.addEventListener("click",K),R.textContent="Your turn, Please choose your next attack..."}),1500)},Q=(t,e)=>null!==gt.gameboard.board[t][e].hit,tt=t=>{const e=C.find((e=>e.name===t.name)).src,n=gt.shipStartCoord.find((e=>e.name===t.name)),{startCoord:r,orientation:i}=n,a=document.querySelector(`#computer-grid .cell[data-row="${r[0]}"][data-col="${r[1]}"]`),o=a.offsetWidth,s=E("img","ship-img");s.src=e,s.style.position="absolute",s.style.height="submarine"===t.name?"100%":"90%",s.style.width=o*t.length+"px",0===i&&(s.style.transformOrigin="top left",s.style.transform=`rotate(90deg) translate(0, ${"submarine"===t.name?"-110%":"-125%"})`),a.appendChild(s)};Y.addEventListener("click",K),J.addEventListener("click",(()=>{_.style.visibility="hidden",location.reload()}));const et=document.getElementById("container"),nt=E("h4","","","Deploy your fleet!"),rt=E("div","main-container"),it=E("div","grid-container"),at=E("div","grid","player-grid"),ot=E("div","col-header"),st=E("div","row-header"),lt=E("div","fleet-container"),ct=E("div","","orientation"),dt=E("div","button-container"),ht=E("button","disable","confirm-btn","CONFIRM"),pt=E("button","","rest-btn","RANDOMIZE"),ut=E("button","","randomize-btn","RESET"),mt=new H,gt=new class extends H{constructor(){super(),this.mustExplore=[],this.lastHit=null,this.availableMoves=new Set,this.shipStartCoord=[],this.directions={up:[-1,0],down:[1,0],left:[0,-1],right:[0,1]};for(let t=0;t<10;t++)for(let e=0;e<10;e++)this.availableMoves.add(`${t},${e}`)}placeShips=()=>([{name:"carrier",length:5},{name:"battleship",length:4},{name:"cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}].forEach((t=>{let e,n=!0,[r,i]=[];for(;n;)e=Math.random()>.5?1:0,[r,i]=this.generateCoordinates(t.length,e),n=!this.gameboard.placeShip(t,[r,i],e);this.shipStartCoord.push({name:t.name,startCoord:[r,i],orientation:e})})),!0);generateCoordinates=(t,e)=>{let n,r;return e?(n=Math.floor(10*Math.random()),r=Math.floor(Math.random()*(10-t))):(n=Math.floor(Math.random()*(10-t)),r=Math.floor(10*Math.random())),[n,r]};launchAttack=t=>{let[e,n]=[];if(this.mustExplore.length<=0){[e,n]=this.generateAttackCoordinates();const r=t.receiveAttack([e,n]);if(r)return this.lastHit=[e,n],this.mustExplore=this.getAdjacentCells([e,n],t.board),{hit:r,coord:[e,n]}}else{[e,n]=this.mustExplore.pop(),this.removeFromAvailableMoves(e,n);const r=t.receiveAttack([e,n]),i=t.board[e][n].ship;if(i&&i.isSunk())return this.mustExplore.length=0,this.lastHit=null,{hit:r,coord:[e,n]};if(r){const t=this.getNextAttack(this.lastHit,[e,n]);return null!=t&&(this.lastHit=[e,n],this.mustExplore.push(t)),{hit:r,coord:[e,n]}}}return{hit:!1,coord:[e,n]}};generateAttackCoordinates=()=>{const t=Array.from(this.availableMoves),e=Math.floor(Math.random()*t.length),n=Array.from(this.availableMoves)[e];if(!n)return null;const[r,i]=n.split(",").map(Number);return this.availableMoves.delete(n),[r,i]};removeFromAvailableMoves(t,e){this.availableMoves.has(`${t},${e}`)&&this.availableMoves.delete(`${t},${e}`)}getNextAttack=(t,e)=>{const[n,r]=t,[i,a]=e;let o;o=n===i?a>r?"right":"left":i>n?"down":"up";const[s,l]=this.directions[o],c=i+s,d=a+l;return c>=0&&c<10&&d>=0&&d<10?[c,d]:null};getAdjacentCells=(t,e)=>{let[n,r]=t,i=[];for(let t in this.directions){const[a,o]=this.directions[t],s=n+a,l=r+o;s>=0&&s<e.length&&l>=0&&l<e[0].length&&null==e[s][l].hit&&i.push([s,l])}return i};printBoard=t=>{console.log("    "+[...Array(10).keys()].join(" "));for(let e=0;e<10;e++){const n=t[e].map((t=>t.hit&&t.ship?"X":t.hit?"O":t.ship?t.ship.name[0].toUpperCase():"-")).join(" ");console.log(`${e} | ${n}`)}}};let ft=null,bt=[];ct.addEventListener("click",(()=>{ct.textContent="VERTICAL"===ct.textContent?"HORIZONTAL":"VERTICAL";let t=1===Number(ct.getAttribute("orientation"))?0:1;ct.setAttribute("orientation",t)})),at.addEventListener("dragover",(t=>{t.preventDefault();const e=parseInt(t.target.dataset.row),n=parseInt(t.target.dataset.col);vt(e,n)})),at.addEventListener("dragleave",(t=>{At()})),at.addEventListener("drop",(t=>{t.preventDefault();const e=parseInt(t.target.dataset.row),n=parseInt(t.target.dataset.col);let r=Number(document.getElementById("orientation").getAttribute("orientation"));if(!yt(e,n,r))return void At();const i=t.target;let a=ft.getAttribute("data-name"),o=parseInt(ft.getAttribute("data-length")),s={name:a,length:o};mt.gameboard.placeShip(s,[e,n],r);const l=document.querySelector(`.ship[data-name="${a}"]`);l.draggable=!1;let c=l.querySelector(".ship-img").cloneNode(!0);l&&(l.querySelector(".ship-img").style.visibility="hidden"),wt(i,c,r,o),bt.forEach((t=>{t.setAttribute("ship",a)})),5===mt.gameboard.fleet.length&&ht.classList.remove("disable"),At()}));const vt=(t,e)=>{let n=Number(document.getElementById("orientation").getAttribute("orientation")),r=parseInt(ft.getAttribute("data-length")),i="";if(yt(t,e,n))for(let a=0;a<r;a++)i=n?document.querySelector(`.cell[data-row="${t}"][data-col="${e+a}"]`):document.querySelector(`.cell[data-row="${t+a}"][data-col="${e}"]`),i&&(bt.push(i),i.classList.add("available"),i.classList.remove("occupied"));else for(let a=0;a<r;a++)i=n?document.querySelector(`.cell[data-row="${t}"][data-col="${e+a}"]`):document.querySelector(`.cell[data-row="${t+a}"][data-col="${e}"]`),i&&(bt.push(i),i.classList.remove("available"),i.classList.add("occupied"))},yt=(t,e,n)=>{let r=parseInt(ft.getAttribute("data-length"));for(let i=0;i<r;i++)if(n){if(e+i>9)return!1;const n=document.querySelector(`.cell[data-row="${t}"][data-col="${e+i}"]`);if(!n||"null"!==n.getAttribute("ship"))return!1}else{if(t+i>9)return!1;const n=document.querySelector(`.cell[data-row="${t+i}"][data-col="${e}"]`);if(!n||"null"!==n.getAttribute("ship"))return!1}return!0},At=()=>{bt.forEach((t=>{t.classList.remove("available"),t.classList.remove("occupied")})),bt=[]},wt=(t,e,n,r,i)=>{const a=t.offsetWidth;null==i&&(i=ft.getAttribute("data-name")),e.style.position="absolute",e.style.height="submarine"===i?"100%":"90%",e.style.width=a*r+"px",0===n&&(e.style.transformOrigin="top left",e.style.transform=`rotate(90deg) translate(0, ${"submarine"===i?"-110%":"-125%"})`),t.appendChild(e)};ut.addEventListener("click",(()=>{ut.blur(),ht.classList.add("disable"),mt.gameboard.fleet.length<=0||(xt(),document.querySelectorAll(".ship").forEach((t=>{t.querySelector("img").style.visibility="visible",t.querySelector("div").style.visibility="visible",t.draggable=!0})),St())}));const xt=()=>{mt.gameboard.fleet=[],mt.gameboard.board=Array.from({length:10},(()=>Array.from({length:10},(()=>({ship:null,hit:null})))))},St=()=>{document.querySelectorAll(".cell").forEach((t=>{const e=t.querySelector("img");e&&t.removeChild(e),t.setAttribute("ship",null)}))};pt.addEventListener("click",(()=>{ft=null,xt(),St(),pt.blur(),document.querySelectorAll(".ship").forEach((t=>{const e=t.getAttribute("data-name"),n=t.getAttribute("data-length"),r=t.querySelector("img").cloneNode(!0);r.style.visibility="visible";let i,a={name:e,length:n},[o,s]=[],l=!0;for(;l;)i=Math.random()>.5?1:0,[o,s]=k(n,i),l=!mt.gameboard.placeShip(a,[o,s],i);const c=document.querySelector(`.cell[data-row="${o}"][data-col="${s}"]`);wt(c,r,i,n,e);for(let t=0;t<n;t++){let n;n=i?document.querySelector(`.cell[data-row="${o}"][data-col="${s+t}"]`):document.querySelector(`.cell[data-row="${o+t}"][data-col="${s}"]`),n.setAttribute("ship",e)}t.draggable=!1,t.querySelector("img").style.visibility="hidden"})),5===mt.gameboard.fleet.length&&ht.classList.remove("disable")})),ht.addEventListener("click",(t=>{mt.gameboard.fleet.length<5?t.preventDefault():(gt.placeShips(),et.textContent=" ",Array.from({length:100},((t,e)=>{const n=E("div","cell");return n.setAttribute("data-row",Math.floor(e/10)),n.setAttribute("data-col",e%10),n.setAttribute("ship",null),n})).forEach((t=>{Y.appendChild(t)})),Array.from({length:10},((t,e)=>E("div","col","",`${e}`))).forEach((t=>{Z.appendChild(t)})),Array.from({length:10},((t,e)=>E("div","row","",`${e}`))).forEach((t=>{V.appendChild(t)})),_.append(J),B.append(R),F.append(U,it),W.append(Y,Z,V),X.append(G,W),D.append(F,X),z.append(B,D,_))}));const Et=document.getElementById("container");T.innerHTML="\n\t\t<h3>Setting Up</h3>\n\t\t<p>1.Each player has a fleet of 5 ships of different lengths that need to be placed on their grid.</p>\n\t\t<p>2.The ships can be placed either horizontally or vertically within the grid.</p>\n\t\t<p>3.The player can either place their ship randomly using the random option or place the ship on their grid manually.</p>\n\t\t<p>4.Once the player is satisfied with their ship placement, they may start the game.</p>\n\t",I.innerHTML="\n\t\t<h3>Gameplay</h3>\n\t\t<p>1.On the player's turn, select a coordinate on the opponent's grid to fire a shot.</p>\n\t\t<p>2.The opponent will then take their turn to fire a shot at your grid.</p>\n\t\t<p>3.A red 'X' will indicate a hit and a white 'X' will indicate a miss.</p>\n\t\t<p>4.If you hit a ship, continue firing to sink it.</p>\n\t\t<p>5.The opponent's ship will be revealed on the opponent's grid once it's fully sunk.</p>\n\t",q.innerHTML="\n\t\t<h3>Winning</h3>\n\t\t<p>The first player to sink all of their opponent's ships wins the game</p>\n\t",N.append(j),L.append($,T,I,q,N),M.append(L),document.getElementById("start-btn").addEventListener("click",(()=>{Et.textContent=" ",Array.from({length:100},((t,e)=>{const n=E("div","cell");return n.setAttribute("data-row",Math.floor(e/10)),n.setAttribute("data-col",e%10),n.setAttribute("ship",null),n})).forEach((t=>{at.appendChild(t)})),Array.from({length:10},((t,e)=>E("div","col","",`${e}`))).forEach((t=>{ot.appendChild(t)})),Array.from({length:10},((t,e)=>E("div","row","",`${e}`))).forEach((t=>{st.appendChild(t)})),ct.innerHTML="\n\t\t<div>HORIZONTAL</div>\n\t",ct.setAttribute("orientation",1),lt.append(ct),C.forEach((t=>{const e=E("div","ship"),n=t.name.charAt(0).toUpperCase()+t.name.slice(1);e.draggable=!0,e.dataset.name=t.name,e.dataset.length=t.length,e.innerHTML=`\n\t\t\t<img draggable="false" class="ship-img" src=${t.src} />\n\t\t\t<div class="ship-name">${n}</div>\n\t\t`,e.addEventListener("dragstart",(e=>{e.dataTransfer.setData("ship-name",t.name),e.dataTransfer.setData("ship-length",t.length),ft=e.target})),lt.appendChild(e)})),dt.append(pt,ut,ht),it.append(at,ot,st),rt.append(it,lt),et.append(nt,rt,dt)}))})();